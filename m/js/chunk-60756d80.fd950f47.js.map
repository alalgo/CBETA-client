{"version":3,"sources":["webpack:///./src/views/Reader.vue?0d61","webpack:///src/views/Reader.vue","webpack:///./src/views/Reader.vue?7df6","webpack:///./src/views/Reader.vue?0c49","webpack:///./src/views/Reader.vue?cbf0"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$route","params","title","on","onClickLeft","onClickRight","style","display","isshowsidebar","_l","item","key","name","$event","selectChapter","url","contextWidth","hiddenSidebar","domProps","_s","bookhtml","staticStyle","readerset","model","value","callback","$$v","active","expression","showOrHiddenSidebar","_v","staticRenderFns","data","activeKey","items","mounted","requestChapter","$emit","push","i","work","PrefixInteger","methods","showSidebar","console","log","index","axios","get","$router","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQL,KAAKM,OAAOC,OAAOC,MAAM,YAAY,KAAK,aAAa,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAaV,EAAIW,YAAY,cAAcX,EAAIY,gBAAgBR,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,SAAS,CAACF,EAAG,UAAU,CAACS,MAAM,CAAEC,QAAQd,EAAIe,eAAgBT,MAAM,CAAC,KAAO,OAAO,CAACF,EAAG,WAAWJ,EAAIgB,GAAIhB,EAAS,OAAE,SAASiB,GAAM,OAAOb,EAAG,WAAW,CAACc,IAAID,EAAKE,KAAKb,MAAM,CAAC,MAAQW,EAAKE,MAAMT,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOpB,EAAIqB,cAAcJ,EAAKK,YAAW,IAAI,GAAGlB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIuB,eAAe,CAACnB,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,YAAYI,GAAG,CAAC,MAAQV,EAAIwB,gBAAgB,CAACpB,EAAG,OAAO,CAACqB,SAAS,CAAC,UAAYzB,EAAI0B,GAAG1B,EAAI2B,kBAAkB,GAAGvB,EAAG,aAAa,CAACwB,YAAY,CAAC,UAAU,KAAKlB,GAAG,CAAC,OAASV,EAAI6B,WAAWC,MAAM,CAACC,MAAO/B,EAAU,OAAEgC,SAAS,SAAUC,GAAMjC,EAAIkC,OAAOD,GAAKE,WAAW,WAAW,CAAC/B,EAAG,kBAAkB,CAACM,GAAG,CAAC,MAAQV,EAAIoC,sBAAsB,CAACpC,EAAIqC,GAAG,QAAQjC,EAAG,kBAAkB,CAACJ,EAAIqC,GAAG,QAAQjC,EAAG,kBAAkB,CAACJ,EAAIqC,GAAG,SAAS,IAAI,IACljCC,EAAkB,GCmCtB,G,UAAA,CACEnB,KAAM,SACNoB,KAAM,WACJ,MAAO,CACLZ,SAAU,KACVa,UAAW,EACXzB,cAAe,OACf0B,MAAO,GACPlB,aAAc,GACdW,OAAQ,KAGZQ,QAAS,WACP,IAAJ,uFACIzC,KAAK0C,eAAerB,GACpBrB,KAAK2C,MAAM,UAAU,GACrB,IAAK,IAAT,mCACM3C,KAAKwC,MAAMI,KAAKC,EAAI,KACpB7C,KAAKwC,MAAMI,KAAK,CAAtB,WACQ,IAAO,iDAAmD5C,KAAKM,OAAOC,OAAOuC,KAAO,IAAM9C,KAAK+C,cAAcF,EAAG,GAAK,WAI3HG,QAAS,CACPzB,cADJ,WAEMvB,KAAKc,cAAgB,OACrBd,KAAKsB,aAAe,IAEtB2B,YALJ,WAMMjD,KAAKc,cAAgB,SACrBd,KAAKsB,aAAe,IAEtBa,oBATJ,WAUiC,SAAvBnC,KAAKc,cACPd,KAAKiD,cAELjD,KAAKuB,iBAGTK,UAhBJ,SAgBA,GACMsB,QAAQC,IAAIC,GACZF,QAAQC,IAAInD,KAAKiC,SAEnBb,cApBJ,SAoBA,GACMpB,KAAK0C,eAAerB,GACpBrB,KAAKuB,iBAEPmB,eAxBJ,SAwBA,cACA,YACMW,EAAMC,IAAIjC,GAChB,kBACQ,EAAR,gBAEQ,SAAR,uDAEA,mBAEQ,QAAR,UAEA,yBAIIX,YAxCJ,WAyCMwC,QAAQC,IAAI,SAEdxC,aA3CJ,WA4CMX,KAAKuD,QAAQX,KAAK,CAAxB,kBCvGgV,I,wBCQ5UY,EAAY,eACd,EACA1D,EACAuC,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E,2CCnBf,yBAA6c,EAAG","file":"js/chunk-60756d80.fd950f47.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":this.$route.params.title,\"left-text\":\"返回\",\"right-text\":\"主页\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_c('van-row',{attrs:{\"type\":\"flex\"}},[_c('van-col',{style:({display:_vm.isshowsidebar}),attrs:{\"span\":\"12\"}},[_c('van-list',_vm._l((_vm.items),function(item){return _c('van-cell',{key:item.name,attrs:{\"title\":item.name},on:{\"click\":function($event){return _vm.selectChapter(item.url)}}})}),1)],1),_c('van-col',{attrs:{\"span\":_vm.contextWidth}},[_c('div',{attrs:{\"id\":\"readerid\"},on:{\"click\":_vm.hiddenSidebar}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.bookhtml)}})])])],1),_c('van-tabbar',{staticStyle:{\"z-index\":\"2\"},on:{\"change\":_vm.readerset},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{on:{\"click\":_vm.showOrHiddenSidebar}},[_vm._v(\"目录\")]),_c('van-tabbar-item',[_vm._v(\"模式\")]),_c('van-tabbar-item',[_vm._v(\"字体\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <van-nav-bar\n      :title='this.$route.params.title'\n      left-text=\"返回\"\n      right-text=\"主页\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n      @click-right=\"onClickRight\"\n    />\n    <van-row type=\"flex\">\n      <van-col span=\"12\" v-bind:style=\"{display:isshowsidebar}\">\n        <van-list>\n          <van-cell\n          v-for=\"item in items\"\n          :key=\"item.name\"\n          :title=\"item.name\"\n          @click=\"selectChapter(item.url)\"\n          />\n        </van-list>\n      </van-col>\n      <van-col :span='contextWidth'>\n        <div id=\"readerid\"  @click=\"hiddenSidebar\">\n            <span v-html=\"bookhtml\"></span>\n        </div>\n      </van-col>\n    </van-row>\n    <van-tabbar v-model=\"active\" @change=\"readerset\" style=\"z-index:2\">\n      <van-tabbar-item @click=\"showOrHiddenSidebar\">目录</van-tabbar-item>\n      <van-tabbar-item >模式</van-tabbar-item>\n      <van-tabbar-item >字体</van-tabbar-item>\n    </van-tabbar>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'reader',\n  data: function () {\n    return {\n      bookhtml: null,\n      activeKey: 0,\n      isshowsidebar: 'none',\n      items: [],\n      contextWidth: 24,\n      active: ''\n    }\n  },\n  mounted: function () {\n    let url = 'https://cbdata.dila.edu.tw/v1.2/download/html/' + this.$route.params.work + '_001.html'\n    this.requestChapter(url)\n    this.$emit('isshow', false)\n    for (let i = 1; i <= this.$route.params.juan; i++) {\n      this.items.push(i + '卷')\n      this.items.push({ 'name': i + '卷',\n        'url': 'https://cbdata.dila.edu.tw/v1.2/download/html/' + this.$route.params.work + '_' + this.PrefixInteger(i, 3) + '.html'\n      })\n    }\n  },\n  methods: {\n    hiddenSidebar () {\n      this.isshowsidebar = 'none'\n      this.contextWidth = 24\n    },\n    showSidebar () {\n      this.isshowsidebar = 'inline'\n      this.contextWidth = 12\n    },\n    showOrHiddenSidebar () {\n      if (this.isshowsidebar === 'none') {\n        this.showSidebar()\n      } else {\n        this.hiddenSidebar()\n      }\n    },\n    readerset (index) {\n      console.log(index)\n      console.log(this.active)\n    },\n    selectChapter (url) {\n      this.requestChapter(url)\n      this.hiddenSidebar()\n    },\n    requestChapter (url) {\n      const axios = require('axios')\n      axios.get(url)\n        .then((response) => {\n          this.bookhtml = response.data\n          // 新章节从第一行开始展示\n          document.body.scrollTop = document.documentElement.scrollTop = 0\n        })\n        .catch((error) => {\n        // handle error\n          console.log(error)\n        })\n        .finally(() => {\n        // always executed\n        })\n    },\n    onClickLeft () {\n      console.log('back')\n    },\n    onClickRight () {\n      this.$router.push({ name: 'home' })\n    }\n  }\n}\n</script>\n\n<style>\n#readerid{\n  margin: 14px 14px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reader.vue?vue&type=template&id=093e6c3c&\"\nimport script from \"./Reader.vue?vue&type=script&lang=js&\"\nexport * from \"./Reader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}