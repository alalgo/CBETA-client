{"version":3,"sources":["webpack:///./src/views/Reader.vue?a343","webpack:///src/views/Reader.vue","webpack:///./src/views/Reader.vue?7df6","webpack:///./src/views/Reader.vue?0c49","webpack:///./src/views/Reader.vue?cbf0"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$route","params","title","on","onClickLeft","onClickRight","style","width","height","backgroundColor","model","value","callback","$$v","show","expression","_l","item","key","name","$event","selectChapter","url","directives","rawName","modifiers","onSwipeDown","domProps","_s","bookhtml","staticStyle","readerset","active","showPopup","_v","staticRenderFns","data","activeKey","items","mounted","requestChapter","$emit","push","i","work","PrefixInteger","document","body","scrollTop","documentElement","methods","hiddenSidebar","axios","get","$router","back","console","log","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQL,KAAKM,OAAOC,OAAOC,MAAM,YAAY,KAAK,aAAa,KAAK,aAAa,GAAG,MAAQ,QAAQC,GAAG,CAAC,aAAaV,EAAIW,YAAY,cAAcX,EAAIY,gBAAgBR,EAAG,YAAY,CAACS,MAAM,CAAGC,MAAO,MAAOC,OAAO,QAAST,MAAM,CAAC,SAAW,OAAO,gBAAgB,CAACU,gBAAgB,8BAA8BC,MAAM,CAACC,MAAOlB,EAAQ,KAAEmB,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKD,GAAKE,WAAW,SAAS,CAAClB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,SAAS,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,OAAO,CAACF,EAAG,WAAWJ,EAAIuB,GAAIvB,EAAS,OAAE,SAASwB,GAAM,OAAOpB,EAAG,WAAW,CAACqB,IAAID,EAAKE,KAAKpB,MAAM,CAAC,MAAQkB,EAAKE,MAAMhB,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAO3B,EAAI4B,cAAcJ,EAAKK,YAAW,IAAI,IAAI,IAAI,GAAGzB,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,SAAS,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAAC0B,WAAW,CAAC,CAACJ,KAAK,QAAQK,QAAQ,yBAAyBC,UAAU,CAAC,gBAAiB,KAAQ1B,MAAM,CAAC,GAAK,YAAYI,GAAG,CAAC,UAAYV,EAAIiC,cAAc,CAAC7B,EAAG,OAAO,CAAC8B,SAAS,CAAC,UAAYlC,EAAImC,GAAGnC,EAAIoC,kBAAkB,GAAGhC,EAAG,aAAa,CAACiC,YAAY,CAAC,UAAU,KAAK3B,GAAG,CAAC,OAASV,EAAIsC,WAAWrB,MAAM,CAACC,MAAOlB,EAAU,OAAEmB,SAAS,SAAUC,GAAMpB,EAAIuC,OAAOnB,GAAKE,WAAW,WAAW,CAAClB,EAAG,kBAAkB,CAACM,GAAG,CAAC,MAAQV,EAAIwC,YAAY,CAACxC,EAAIyC,GAAG,QAAQrC,EAAG,kBAAkB,CAACJ,EAAIyC,GAAG,QAAQrC,EAAG,kBAAkB,CAACJ,EAAIyC,GAAG,SAAS,IAAI,IACv3CC,EAAkB,GC4CtB,G,UAAA,CACEhB,KAAM,SACNiB,KAAM,WACJ,MAAO,CACLP,SAAU,KACVf,MAAM,EACNuB,UAAW,EACXC,MAAO,GACPN,OAAQ,KAGZO,QAAS,WACP,IAAJ,uFACI7C,KAAK8C,eAAelB,GACpB5B,KAAK+C,MAAM,UAAU,GACrB,IAAK,IAAT,mCACM/C,KAAK4C,MAAMI,KAAKC,EAAI,KACpBjD,KAAK4C,MAAMI,KAAK,CAAtB,WACQ,IAAO,iDAAmDhD,KAAKM,OAAOC,OAAO2C,KAAO,IAAMlD,KAAKmD,cAAcF,EAAG,GAAK,UAGzHG,SAASC,KAAKC,UAAYF,SAASG,gBAAgBD,UAAY,GAEjEE,QAAS,CACPjB,UADJ,WAEMvC,KAAKoB,MAAO,GAEdiB,UAJJ,SAIA,KAGIV,cAPJ,SAOA,GACM3B,KAAK8C,eAAelB,GACpB5B,KAAKyD,iBAEPX,eAXJ,SAWA,cACA,YACMY,EAAMC,IAAI/B,GAChB,kBACQ,EAAR,gBAEQ,SAAR,uDAEA,mBAEQ,QAAR,UAEA,yBAIIlB,YA3BJ,WA6BMV,KAAK4D,QAAQC,MAAM,IAErBlD,aA/BJ,WAgCMX,KAAK4D,QAAQZ,KAAK,CAAxB,eAEIhB,YAlCJ,WAmCM8B,QAAQC,IAAI,cCvG8T,I,wBCQ5UC,EAAY,eACd,EACAlE,EACA2C,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E,2CCnBf,yBAA6c,EAAG","file":"js/chunk-60756d80.3256244c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":this.$route.params.title,\"left-text\":\"返回\",\"right-text\":\"主页\",\"left-arrow\":\"\",\"fixed\":\"true\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_c('van-popup',{style:({ width: '40%', height:'100%'}),attrs:{\"position\":\"left\",\"overlay-style\":{backgroundColor:'rgba(192, 208, 145, 0.56)'}},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-row',{attrs:{\"type\":\"flex\"}},[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('van-list',_vm._l((_vm.items),function(item){return _c('van-cell',{key:item.name,attrs:{\"title\":item.name},on:{\"click\":function($event){return _vm.selectChapter(item.url)}}})}),1)],1)],1)],1),_c('van-row',{attrs:{\"type\":\"flex\"}},[_c('van-col',{attrs:{\"span\":24}},[_c('div',{directives:[{name:\"touch\",rawName:\"v-touch.preventDefault\",modifiers:{\"preventDefault\":true}}],attrs:{\"id\":\"readerid\"},on:{\"swipedown\":_vm.onSwipeDown}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.bookhtml)}})])])],1),_c('van-tabbar',{staticStyle:{\"z-index\":\"2\"},on:{\"change\":_vm.readerset},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{on:{\"click\":_vm.showPopup}},[_vm._v(\"目录\")]),_c('van-tabbar-item',[_vm._v(\"模式\")]),_c('van-tabbar-item',[_vm._v(\"字体\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!--顶部导航-->\n    <van-nav-bar\n      :title='this.$route.params.title'\n      left-text=\"返回\"\n      right-text=\"主页\"\n      left-arrow\n      fixed=\"true\"\n      @click-left=\"onClickLeft\"\n      @click-right=\"onClickRight\"\n    />\n    <!--目录-->\n    <van-popup v-model=\"show\"  position=\"left\" :style=\"{ width: '40%', height:'100%'}\" :overlay-style=\"{backgroundColor:'rgba(192, 208, 145, 0.56)'}\">\n      <van-row type=\"flex\">\n        <van-col span=\"12\" >\n          <van-list>\n            <van-cell\n            v-for=\"item in items\"\n            :key=\"item.name\"\n            :title=\"item.name\"\n            @click=\"selectChapter(item.url)\"\n            />\n          </van-list>\n        </van-col>\n      </van-row>\n    </van-popup>\n    <!--中间读经界面-->\n    <van-row type=\"flex\">\n      <van-col :span='24'>\n        <div id=\"readerid\" v-touch.preventDefault @swipedown = \"onSwipeDown\">\n            <span v-html=\"bookhtml\"></span>\n        </div>\n      </van-col>\n    </van-row>\n    <!--底部功能按钮-->\n    <van-tabbar v-model=\"active\" @change=\"readerset\" style=\"z-index:2\">\n      <van-tabbar-item @click=\"showPopup\">目录</van-tabbar-item>\n      <van-tabbar-item >模式</van-tabbar-item>\n      <van-tabbar-item >字体</van-tabbar-item>\n    </van-tabbar>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'reader',\n  data: function () {\n    return {\n      bookhtml: null,\n      show: false,\n      activeKey: 0,\n      items: [],\n      active: ''\n    }\n  },\n  mounted: function () {\n    let url = 'https://cbdata.dila.edu.tw/v1.2/download/html/' + this.$route.params.work + '_001.html'\n    this.requestChapter(url)\n    this.$emit('isshow', false)\n    for (let i = 1; i <= this.$route.params.juan; i++) {\n      this.items.push(i + '卷')\n      this.items.push({ 'name': i + '卷',\n        'url': 'https://cbdata.dila.edu.tw/v1.2/download/html/' + this.$route.params.work + '_' + this.PrefixInteger(i, 3) + '.html'\n      })\n    }\n    document.body.scrollTop = document.documentElement.scrollTop = 0\n  },\n  methods: {\n    showPopup () {\n      this.show = true\n    },\n    readerset (index) {\n\n    },\n    selectChapter (url) {\n      this.requestChapter(url)\n      this.hiddenSidebar()\n    },\n    requestChapter (url) {\n      const axios = require('axios')\n      axios.get(url)\n        .then((response) => {\n          this.bookhtml = response.data\n          // 新章节从第一行开始展示\n          document.body.scrollTop = document.documentElement.scrollTop = 0\n        })\n        .catch((error) => {\n        // handle error\n          console.log(error)\n        })\n        .finally(() => {\n        // always executed\n        })\n    },\n    onClickLeft () {\n      // this.$router.go(-1)\n      this.$router.back(-1)\n    },\n    onClickRight () {\n      this.$router.push({ name: 'home' })\n    },\n    onSwipeDown () {\n      console.log('down11')\n    }\n  }\n}\n</script>\n\n<style>\n/*禁止横向滚动条*/\nhtml,body{\n  overflow:hidden;\n  overflow-y:auto;\n}\n/*经文正文样式*/\n#readerid{\n  margin: 14px 14px;\n  padding-top: 9%;\n  font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\",\"Helvetica Neue\",STHeiti,\"Microsoft Yahei\",Tahoma,Simsun,sans-serif;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reader.vue?vue&type=template&id=185c060c&\"\nimport script from \"./Reader.vue?vue&type=script&lang=js&\"\nexport * from \"./Reader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reader.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}