(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e3c0d24"],{"2d3b":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[t.initSearch?n("div",{attrs:{id:"centerSearch"}},[n("van-search",{attrs:{placeholder:"经名 繁\\简","show-action":"",shape:"round","left-icon":""},on:{search:t.onSearch,focus:t.changePosition},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[n("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[n("van-icon",{attrs:{name:"search",size:"30",color:"#be9567"}})],1)]),t._m(0)],1):n("div",{attrs:{id:"topSearch"}},[n("van-search",{attrs:{placeholder:"经名 繁\\简","show-action":"",shape:"round","left-icon":""},on:{search:t.onSearch},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[n("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[n("van-icon",{attrs:{name:"search",size:"30",color:"#be9567"}})],1)])],1),t.loading?n("div",{staticClass:"prompt"},[n("van-loading",{attrs:{size:"24px"}},[t._v("加载中...")])],1):t._e(),t.error?n("div",{staticClass:"prompt"},[n("span",[t._v("搜索失败")])]):t._e(),n("div",{attrs:{id:"resultlist"}},t._l(t.list,(function(a){return n("van-cell",{key:a.title,attrs:{title:a.title,center:""},on:{click:function(n){return t.readbook(a)}}})})),1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pic-wrap"},[e("img",{attrs:{src:n("9c99"),alt:"buddha"}})])}],r=(n("b0c0"),n("d3b7"),{name:"search",data:function(){return{value:"",list:[],isFirstEnter:!1,initSearch:!0,loading:!1,error:!1}},beforeRouteEnter:function(t,a,n){"reader"==a.name&&(t.meta.isBack=!0),n()},mounted:function(){this.isFirstEnter=!0},activated:function(){this.$route.meta.isBack&&!this.isFirstEnter||(this.initSearch=!0,this.list=[],this.value=""),this.$route.meta.isBack=!1,this.isFirstEnter=!1},methods:{onSearch:function(){var t=this;if(this.list=[],this.error=!1,this.initSearch&&(this.initSearch=!1),""==this.value)return!1;this.loading=!0;var a=n("bc3a");a.get("https://cbdata.dila.edu.tw/v1.2/toc?q="+this.value).then((function(a){0==a.data.num_found&&(t.error=!0);for(var n=0;n<a.data.num_found;n++)a.data.results[n].hasOwnProperty("title")&&t.list.push(a.data.results[n])})).catch((function(a){t.error=!0})).finally((function(){t.loading=!1}))},changePosition:function(){this.initSearch=!1},readbook:function(t){this.$router.push({name:"reader",params:t})}}}),c=r,s=(n("43cf"),n("2877")),o=Object(s["a"])(c,e,i,!1,null,null,null);a["default"]=o.exports},"43cf":function(t,a,n){"use strict";var e=n("647d"),i=n.n(e);i.a},"647d":function(t,a,n){},"9c99":function(t,a,n){t.exports=n.p+"img/buddha.43404660.jpg"},b0c0:function(t,a,n){var e=n("83ab"),i=n("9bf2").f,r=Function.prototype,c=r.toString,s=/^\s*function ([^ (]*)/,o="name";!e||o in r||i(r,o,{configurable:!0,get:function(){try{return c.call(this).match(s)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-6e3c0d24.35272763.js.map